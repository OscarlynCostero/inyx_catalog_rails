= content_for(:title, "Admin - Categorias")

%div{'ng-controller'=>'indexCategoryCrtl',  'ng-init'=>'init()', style:"padding:30px;padding-bottom:0px;"}
  .angular
    .form-inline
      .form-group
        .input-group
          .input-group-addon
            %i.fa.fa-search
          %input#input-search{"ng-model" => "buscar.$", :placeholder => t("category.actions.search"), :type => "text"}  
    .alert{class: 'alert-{{statusAlert}}', 'ng-show'=>"alert==true"} 
      %strong Admin:    
      {{msnAlert}}
      %a.close-alert.pull-right{href: "", "ng-click" => "alertClose()"} ×
    = render 'layouts/admin/messages'
    %br/
    .panel.panel-default
      .panel-heading
        = link_to catalogues_path, class: "btn btn-default", title: t("engine.catalogue") do
          %i.fa.fa-list-alt  
        = link_to new_category_catalogue_path, class: "btn btn-default", title: t("admin.buttons.new") do
          %i.fa.fa-plus-circle   
        %button.btn.btn-default.hidden-xs{"ng-click" => "refresh()", :title => t("category.actions.refresh")}
          %i.fa.fa-refresh#icon-refresh
        %a.btn.btn-default.hidden-xs{"ng-show" => "categories.data.length", "ng-click" => "allSelected()", :title => t("category.actions.select_all")}
          %i.fa.fa-check-square-o
        %button#btn-delete.btn.btn-default.hidden-xs{class: "btn-{{btnDelete}}", "ng-click" => "destroy()", :title => t("category.actions.delete_all")}
          %i.fa.fa-trash-o
        %button.btn.btn-default.pull-right.hidden-xs{'disabled'=>"", style:"color:#000"}
          =t("category.actions.page") 
          {{page}} 
        %button.btn.btn-default.pull-right{"ng-click" => "nextList();"}
          %i.fa.fa-arrow-right
        %button.btn.btn-default.pull-right{"ng-click" => "lastList();"}
          %i.fa.fa-arrow-left
      .panel-body
        %table{style: "width:100%"}
          %tbody
            %tr{ class: "select-{{category.checked}}", :id => "row-{{category.id}}", "ng-repeat" => "category in categories.data | filter:buscar | interval:interval_a:interval_b "}
              %td.messages{width: "1px;"}
                %input.check{:id => "check-{{category.id}}", "ng-click" => "selected(category.id); $event.stopPorpagation();", :type => "checkbox", "ng-model" => "category.checked"}            
              %td.messages
                {{category.title}}
              %td.messages
                {{category.description}}
              %td.messages               
                = link_to "/admin/category_catalogues/{{category.id}}/edit", title: t('admin.actions.edit') do
                  %i.fa.fa-edit
                = link_to "/admin/category_catalogues/{{category.id}}", title: t('admin.actions.delete'), :method => :delete, :data => { :confirm => '¿Estas seguro de querer eliminar este usuario?' } do
                  %i.fa.fa-trash-o

            %tr{"ng-show" => "!categories.data.length"}
              %td{:style => "width:100%"}
                %center
                  %i.fa.fa-frown-o
                  = t("category.actions.empty")
              
      .panel-footer
